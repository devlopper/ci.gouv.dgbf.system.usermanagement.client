<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"      
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:cyk="http://primefaces.jsf.web.utility.cyk.org"
      xmlns:system="http://primefaces.jsf.web.usermanagement.system.gouv.ci">
	
    <cyk:page value="#{userAccountPrivilegeAssignProcessUserAccountPage}" >
    	<ui:define name="menuTop">
    		<style>
    			.layout-main-reduce{
				    padding: 0px !important;
				    margin: 0px !important;
				}
    			.layout-main-reduce{
    				padding: 0px !important;
				    margin: 0px !important;
				}
				.layout-wrapper .layout-main {
					padding: 0px !important;
				    margin: 0px !important;
				}
    		</style>
    	</ui:define>
    	<ui:define name="menuLeft"/>
    	<ui:define name="formContentTitle"/>
    	
    	<ui:define name="centerCenter">
    		<p:fieldset legend="Fonctions">
    			<ui:repeat var="function" value="#{userAccountPrivilegeAssignProcessUserAccountPage.userAccount.functions}">
    				<h:outputText value="#{function}" />
    			</ui:repeat>
    		</p:fieldset>
    		<br/>
    		<p:fieldset legend="Profiles Systèmes">
    			<p:pickList 
			    	value="#{userAccountPrivilegeAssignProcessUserAccountPage.systemProfiles}" 
			    	var="profile" 
			    	itemValue="#{profile}" 
					itemLabel="#{profile.name}"
					showCheckbox="true"
					converter="#{objectConverter}"
					>
					
					<p:ajax event="transfer" listener="#{userAccountPrivilegeAssignProcessUserAccountPage.onTransfer}" update="privileges" />
										
				</p:pickList>
    		</p:fieldset>
    		<br/>
    		<p:fieldset id="privileges" legend="Privilèges">
    			<system:inputTreePrivilege value="#{userAccountPrivilegeAssignProcessUserAccountPage.inputTreePrivilege}" />
    		</p:fieldset>
    		<br/>
    		<cyk:commandable value="#{userAccountPrivilegeAssignProcessUserAccountPage.saveCommandable}" />			
			<style>
				.ui-picklist-list {
					height: 120px;
				}
				
				.ui-picklist .ui-picklist-buttons {
				    height: 100px;
				}
				
				.ui-picklist .ui-picklist-list {
				    height: 130px;
				}				
			</style>
    	</ui:define>
    </cyk:page>
    
</html>
