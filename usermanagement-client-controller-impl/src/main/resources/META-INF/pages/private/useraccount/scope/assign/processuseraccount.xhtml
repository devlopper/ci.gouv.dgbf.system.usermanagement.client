<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"      
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:cyk="http://primefaces.jsf.web.utility.cyk.org"
      xmlns:system="http://primefaces.jsf.web.usermanagement.system.gouv.ci">
	
    <cyk:page value="#{userAccountScopeAssignProcessUserAccountPage}" >
    	<ui:define name="menuTop">
    		<style>
    			.layout-main-reduce{
				    padding: 0px !important;
				    margin: 0px !important;
				}
    			.layout-main-reduce{
    				padding: 0px !important;
				    margin: 0px !important;
				}
				.layout-wrapper .layout-main {
					padding: 0px !important;
				    margin: 0px !important;
				}
    		</style>
    	</ui:define>
    	<ui:define name="menuLeft"/>
    	<ui:define name="formContentTitle"/>
    	
    	<ui:define name="centerCenter">
    		<p:fieldset legend="Fonctions">
    			<ui:repeat var="function" value="#{userAccountScopeAssignProcessUserAccountPage.userAccount.functions}">
    				<h:outputText value="#{function}" />
    			</ui:repeat>
    		</p:fieldset>
    		<br/>
    		<p:fieldset legend="Domaines de visibilitÃ©">
    			<p:tabView id="scopesTabs" value="#{userAccountScopeAssignProcessUserAccountPage.scopesTabs}" var="scopesTab">
    				<p:tab title="#{scopesTab.type.name}">
    					<p:pickList 
					    	value="#{scopesTab.scopes}" 
					    	var="scope" 
					    	itemValue="#{scope}" 
							itemLabel="#{scope.codeAndName}"
							showCheckbox="true"
							showSourceFilter="true"
							filterMatchMode="contains"
							converter="#{objectConverter}"
							>
							
							<!-- <p:ajax event="transfer" listener="#{scopesTab.listener.listenTransfer}" update="scopesTabs" /> -->
												
						</p:pickList>
    				</p:tab>
    			</p:tabView>		    			
    		</p:fieldset>
    		<br/>
    		<cyk:commandable value="#{userAccountScopeAssignProcessUserAccountPage.saveCommandable}" />			
			<style>
				.ui-picklist-list {
					height: 120px;
				}
				
				.ui-picklist .ui-picklist-buttons {
				    height: 100px;
				}
				
				.ui-picklist .ui-picklist-list {
				    height: 130px;
				}				
			</style>
    	</ui:define>
    </cyk:page>
    
</html>
